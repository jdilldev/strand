!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@nivo/core"),require("@react-spring/web"),require("react/jsx-runtime"),require("@nivo/tooltip"),require("react"),require("@nivo/axes"),require("@nivo/colors"),require("@nivo/scales")):"function"==typeof define&&define.amd?define(["exports","@nivo/core","@react-spring/web","react/jsx-runtime","@nivo/tooltip","react","@nivo/axes","@nivo/colors","@nivo/scales"],r):r((e="undefined"!=typeof globalThis?globalThis:e||self).nivo=e.nivo||{},e.nivo,e["@react-spring/web"],e["react/jsx-runtime"],e.nivo,e.React,e.nivo,e.nivo,e.nivo)}(this,(function(e,r,o,t,n,i,a,u,s){"use strict";function l(e){if(e&&e.__esModule)return e;var r=Object.create(null);return e&&Object.keys(e).forEach((function(o){if("default"!==o){var t=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(r,o,t.get?t:{enumerable:!0,get:function(){return e[o]}})}})),r.default=e,Object.freeze(r)}var c=l(i);function h(){return h=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])}return e},h.apply(this,arguments)}var d=function(e){var r=e.animatedProps,n=r.x,i=r.y,a=r.width,u=r.height,s=r.color,l=e.borderColor,c=e.borderWidth,h=e.data,d=e.onMouseEnter,m=e.onMouseMove,f=e.onMouseLeave,v=e.onClick;return t.jsx(o.animated.rect,{x:n,y:i,width:o.to(a,(function(e){return Math.max(e,0)})),height:o.to(u,(function(e){return Math.max(e,0)})),fill:s,strokeWidth:c,stroke:l,onMouseMove:function(e){return m(h,e)},onMouseEnter:function(e){return d(h,e)},onMouseLeave:function(e){return f(h,e)},onClick:function(e){return v(h,e)}})},m={layout:"horizontal",reverse:!1,spacing:30,minValue:0,maxValue:"auto",axisPosition:"after",titlePosition:"before",titleAlign:"middle",titleRotation:0,titleOffsetX:0,titleOffsetY:0,rangeComponent:d,rangeColors:"seq:cool",measureComponent:d,measureColors:"seq:red_purple",markers:[],markerComponent:function(e){var r=e.animatedProps,n=r.color,i=r.transform,a=r.x,u=r.y1,s=r.y2,l=e.data,c=e.onMouseEnter,h=e.onMouseMove,d=e.onMouseLeave,m=e.onClick;return t.jsx(o.animated.line,{transform:i,x1:a,x2:a,y1:u,y2:s,fill:"none",stroke:n,strokeWidth:"5",onMouseMove:function(e){return h(l,e)},onMouseEnter:function(e){return c(l,e)},onMouseLeave:function(e){return d(l,e)},onClick:function(e){return m(l,e)}})},markerColors:"seq:red_purple",rangeBorderWidth:0,rangeBorderColor:{from:"color"},measureSize:.4,measureBorderWidth:0,measureBorderColor:{from:"color"},markerSize:.6,isInteractive:!0,tooltip:function(e){var r=e.color,o=e.v0,i=e.v1;return t.jsx(n.BasicTooltip,{id:i?t.jsxs("span",{children:[t.jsx("strong",{children:o})," to ",t.jsx("strong",{children:i})]}):t.jsx("strong",{children:o}),enableChip:!0,color:r})},animate:r.motionDefaultProps.animate,motionConfig:r.motionDefaultProps.config,margin:r.defaultMargin,role:"img"},f=function(e,r,o,t,n){void 0===n&&(n=!1);var i=r.domain(),a=i[0],u=i[1];return[].concat(e,["measures"===t||e.includes(u)?0:u]).filter((function(e){return 0!==e})).sort((function(e,r){return e-r})).reduce((function(e,r,t){var i,u=e.slice(-1)[0],s=null!=(i=null==u?void 0:u.v1)?i:a,l=!0===n?s+(r-s)/2:r;return[].concat(e,[{index:t,v0:s,v1:r,color:o("sequential"===o.type?l:t)}])}),[])},v=["position"],g=function(e){var n=e.scale,a=e.layout,u=e.reverse,s=e.markers,l=e.height,d=e.markerSize,m=e.component,f=e.onMouseEnter,g=e.onMouseLeave,p=e.onClick,x=i.useMemo((function(){return function(e){var r=e.layout,o=e.reverse,t=e.scale,n=e.height,i=e.markerSize;return"horizontal"===r?function(e){return{x:t(e.value),y:n/2,size:i,rotation:!0===o?180:0}}:function(e){return{x:n/2,y:t(e.value),size:i,rotation:!0===o?270:90}}}({layout:a,reverse:u,scale:n,height:l,markerSize:d})}),[a,u,n,l,d]),y=r.useMotionConfig(),C=y.animate,M=y.config,k=o.useTransition(s.map((function(e){return h({},e,{position:x(e)})})),{keys:function(e){return""+e.index},enter:function(e){var r=e.color,o=e.position;return{color:r,transform:"rotate("+o.rotation+", "+o.x+", "+o.y+")",x:o.x,y1:o.y-o.size/2,y2:o.y+o.size/2}},update:function(e){var r=e.color,o=e.position;return{color:r,transform:"rotate("+o.rotation+", "+o.x+", "+o.y+")",x:o.x,y1:o.y-o.size/2,y2:o.y+o.size/2}},config:M,immediate:!C});return t.jsx(t.Fragment,{children:k((function(e,r){var o=r.position,t=function(e,r){if(null==e)return{};var o,t,n={},i=Object.keys(e);for(t=0;t<i.length;t++)o=i[t],r.indexOf(o)>=0||(n[o]=e[o]);return n}(r,v);return c.createElement(m,h({key:t.index},t,o,{animatedProps:e,data:t,onMouseEnter:f,onMouseMove:f,onMouseLeave:g,onClick:p}))}))})},p=function(e){var n=e.animatedProps,a=e.data,s=e.layout,l=e.y,c=e.borderColor,d=e.borderWidth,m=e.component,f=e.reverse,v=e.scale,g=e.height,p=e.onMouseEnter,x=e.onMouseLeave,y=e.onClick,C=i.useMemo((function(){return function(e){var r=e.data,o=function(e){var r=e.layout,o=e.reverse,t=e.scale,n=e.height;return"horizontal"===r?!0===o?function(e){var r=t(e.v1);return{x:r,y:0,width:t(e.v0)-r,height:n}}:function(e){var r=t(e.v0);return{x:r,y:0,width:t(e.v1)-r,height:n}}:!0===o?function(e){var r=t(e.v0),o=t(e.v1)-r;return{x:0,y:r,width:n,height:o}}:function(e){var r=t(e.v1),o=t(e.v0)-r;return{x:0,y:r,width:n,height:o}}}({layout:e.layout,reverse:e.reverse,scale:e.scale,height:e.height});return r.map((function(e){return h({data:e},o(e))}))}({data:a,layout:s,reverse:f,scale:v,height:g})}),[a,s,f,v,g]),M=r.useTheme(),k=u.useInheritedColor(c,M),j=function(e){return"translate("+("horizontal"===s?0:e)+","+("horizontal"===s?e:0)+")"},b=n?o.to(n.measuresY,j):j(l),z=r.useMotionConfig(),w=z.animate,P=z.config,B=o.useTransition(C,{keys:function(e){return""+e.data.index},enter:function(e){return{x:e.x,y:e.y,width:e.width,height:e.height,color:e.data.color}},update:function(e){return{x:e.x,y:e.y,width:e.width,height:e.height,color:e.data.color}},config:P,immediate:!w});return t.jsx(o.animated.g,{transform:b,children:B((function(e,r){return i.createElement(m,{key:r.data.index,index:r.data.index,animatedProps:e,data:r.data,x:e.x.get(),y:e.y.get(),borderColor:k(r.data),borderWidth:d,width:o.to(e.width,(function(e){return Math.max(e,0)})).get(),height:o.to(e.height,(function(e){return Math.max(e,0)})).get(),color:e.color.get(),onMouseEnter:p,onMouseMove:p,onMouseLeave:x,onClick:y})}))})},x=function(e){var u,s=e.id,l=e.scale,c=e.layout,d=e.reverse,m=e.axisPosition,v=e.x,x=e.y,y=e.width,C=e.height,M=e.title,k=void 0===M?s:M,j=e.titlePosition,b=e.titleAlign,z=e.titleOffsetX,w=e.titleOffsetY,P=e.titleRotation,B=e.tooltip,O=e.rangeBorderColor,W=e.rangeBorderWidth,E=e.rangeComponent,S=e.rangeColors,q=e.ranges,L=e.measureBorderColor,R=e.measureBorderWidth,T=e.measureComponent,V=e.measureHeight,A=e.measureColors,Y=e.measures,_=e.markerComponent,H=e.markerColors,I=e.markerHeight,D=e.markers,X=void 0===D?[]:D,F=e.onRangeClick,G=e.onMeasureClick,J=e.onMarkerClick,K=r.useTheme(),N=n.useTooltip(),Q=N.showTooltipFromEvent,U=N.hideTooltip,Z=i.useMemo((function(){var e=r.getColorScale(S,l,!0);return f(q,l,e,"range")}),[S,q,l]),$=i.useMemo((function(){var e=r.getColorScale(A,l);return f(Y,l,e,"measures")}),[A,Y,l]),ee=i.useMemo((function(){var e=r.getColorScale(H,l);return X.map((function(r,o){return{value:r,index:o,color:e("sequential"===e.type?r:o)}}))}),[H,X,l]),re=B,oe=t.jsx(p,{data:Z,scale:l,layout:c,reverse:d,x:0,y:0,width:y,height:C,component:E,borderColor:O,borderWidth:W,onMouseEnter:function(e,r){Q(t.jsx(re,{color:e.color,v0:e.v0,v1:e.v1}),r)},onMouseLeave:U,onClick:function(e,r){null==F||F(h({id:s},e),r)}}),te=t.jsx(g,{markers:ee,scale:l,layout:c,reverse:d,height:C,markerSize:I,component:_,onMouseEnter:function(e,r){Q(t.jsx(re,{color:e.color,v0:e.value}),r)},onMouseLeave:U,onClick:function(e,r){null==J||J(h({id:s},e),r)}}),ne="vertical"===c&&"after"===m?C:0,ie="horizontal"===c&&"after"===m?C:0,ae=t.jsx("g",{transform:"translate("+ne+","+ie+")",children:t.jsx(a.Axis,{axis:"horizontal"===c?"x":"y",length:"horizontal"===c?y:C,scale:l,ticksPosition:m})}),ue="horizontal"===c?"before"===j?z:y+z:C/2+z,se="horizontal"===c?C/2+w:"before"===j?w:y+w,le=t.jsx("g",{transform:"translate("+ue+","+se+") rotate("+P+")",children:"string"==typeof k?t.jsx("text",{style:h({},null==K||null==(u=K.labels)?void 0:u.text,{dominantBaseline:"central",textAnchor:b}),children:k}):k}),ce=r.useMotionConfig(),he=ce.animate,de=ce.config,me=o.useSpring({measuresY:(C-V)/2,transform:"translate("+v+","+x+")",config:de,immediate:!he});return t.jsxs(o.animated.g,{transform:me.transform,children:[oe,t.jsx(p,{animatedProps:me,data:$,scale:l,layout:c,reverse:d,x:0,y:0,width:y,height:V,component:T,borderColor:L,borderWidth:R,onMouseEnter:function(e,r){Q(t.jsx(re,{color:e.color,v0:e.v1}),r)},onMouseLeave:U,onClick:function(e,r){null==G||G(h({id:s},e),r)}}),ae,te,le]})},y=function(e){var o=h({},m,e),n=o.data,a=o.layout,u=o.spacing,l=o.measureSize,c=o.markerSize,d=o.reverse,f=o.axisPosition,v=o.minValue,g=o.maxValue,p=o.margin,y=o.width,C=o.height,M=o.titlePosition,k=o.titleAlign,j=o.titleOffsetX,b=o.titleOffsetY,z=o.titleRotation,w=o.rangeBorderColor,P=o.rangeBorderWidth,B=o.rangeComponent,O=o.rangeColors,W=o.measureBorderColor,E=o.measureBorderWidth,S=o.measureComponent,q=o.measureColors,L=o.markerComponent,R=o.markerColors,T=o.theme,V=o.tooltip,A=void 0===V?m.tooltip:V,Y=o.animate,_=o.motionConfig,H=o.isInteractive,I=o.onRangeClick,D=o.onMeasureClick,X=o.onMarkerClick,F=o.role,G=r.useDimensions(y,C,p),J=G.margin,K=G.innerWidth,N=G.innerHeight,Q="horizontal"===a?(N-u*(n.length-1))/n.length:(K-u*(n.length-1))/n.length,U=Q*l,Z=Q*c,$=function(e,r){var o=r.layout,t=r.maxValue,n=r.minValue,a=r.reverse,u=r.height,l=r.width;return i.useMemo((function(){return e.map((function(e){var r,i=[].concat(e.ranges,e.measures,null!=(r=e.markers)?r:[]),c=null!=t?t:Math.max.apply(Math,i),d=null!=n?n:Math.min.apply(Math,i);return h({},e,{scale:s.createLinearScale({clamp:!0,min:d,max:c,type:"linear"},{all:i,max:c,min:d},"horizontal"===o?l:u,"horizontal"===o?a?"y":"x":a?"x":"y")})}))}),[e,u,o,t,n,a,l])}(n,{height:N,layout:a,maxValue:"auto"===g?void 0:g,minValue:"auto"===v?void 0:v,reverse:d,width:K});return t.jsx(r.Container,{isInteractive:H,theme:T,animate:Y,motionConfig:_,children:t.jsx(r.SvgWrapper,{width:y,height:C,margin:J,role:F,children:$.map((function(e,r){return t.jsx(x,h({},e,{layout:a,reverse:d,x:"vertical"===a?Q*r+u*r:0,y:"horizontal"===a?Q*r+u*r:0,width:K,height:Q,titlePosition:M,titleAlign:k,titleOffsetX:j,titleOffsetY:b,titleRotation:z,measureHeight:U,markerHeight:Z,rangeBorderColor:w,rangeBorderWidth:P,rangeComponent:B,rangeColors:O,measureBorderColor:W,measureBorderWidth:E,measureComponent:S,measureColors:q,markerComponent:L,markerColors:R,axisPosition:f,onRangeClick:I,onMeasureClick:D,onMarkerClick:X,tooltip:A}),e.id)}))})})};e.Bullet=y,e.BulletItem=x,e.ResponsiveBullet=function(e){return t.jsx(r.ResponsiveWrapper,{children:function(r){var o=r.width,n=r.height;return t.jsx(y,h({width:o,height:n},e))}})},e.defaultProps=m,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=nivo-bullet.umd.js.map
